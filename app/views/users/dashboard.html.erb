<h2> Dashboard </h2>

Following: <br>
<% @user.followed_users.sort.each do |followed_user| %>
  <%= link_to followed_user.username, user_url(followed_user) %> <br>
<% end %> <br>

Followers: <br>
<% @user.followers.sort.each do |follower| %>
  <%= link_to follower.username, user_url(follower) %> <br>
<% end %> <br>

<h2> Search Users </h2>
<table>
  <% User.all.sort.each do |user| %>
    <% next if current_user == user %>
    <tr>
      <td>  <%= link_to user.username, user_url(user) %> </td>
    <% if current_user.followed_users.include?(user) %>
      <td><%= button_to "Unfollow", user_follow_url(user.id, current_user.id), method: :delete %></td>
    <% else %>
      <td><%= button_to "Follow", user_follows_url(user.id) %></td>
    <% end %>
    </tr>
  <% end %>
</table> <br>



<nav>
  New Post
  <ul>
    <li>Ru</li>
    <%= render "post_form", post: @post, post_type: "run" %>
    <li>Ph</li>
    <%= render "post_form", post: @post, post_type: "photo" %>
    <li>Li</li>
    <%= render "post_form", post: @post, post_type: "link" %>
    <li>Qu</li>
    <%= render "post_form", post: @post, post_type: "quote" %>
    <li>Vi</li>
    <%= render "post_form", post: @post, post_type: "video" %>
    <li>Ni+</li>
  <ul>
</nav>




<ul>
   <% @user.posts.reverse.each do |post| %>
     <li> Post Type: <%= post.post_type %></li>
         <ul>
           <li> Post Info </li>
             <ul>
               <li> Title: <%= post.title %></li>
               <li><%= post.workout_date %></li>
               <li><%= post.workout_time %></li>
               <% if post.post_type == "run" %>
                 <li><%= post.workout_type %> Run</li>
                 <li><%= post.miles %> Miles</li>
                 <li><%= post.hours %>:<%= post.minutes %>:<%= post.seconds %></li>
               <% end %>
               <li><%= post.body %></li>
               <% if post.post_type == "link" || "video" %>
                 <li><%= post.url %></li>
               <% end %>
             </ul>
         </ul>
         <ul>
           <li> Options bar </li>
              <ul>

                <% unless @user.likes_post?(post) %>
                  <li><%= link_to "like",  like_post_url(post.user), method: :post%></li>
                <% else %>
                  <li><%= link_to "unlike",  unlike_post_url(post.user), method: :post%></li>
                <% end %>

                <li><%= post.likes %> likes</li>
                  <ul>
                    <table>
                      <% post.user_post_likes.each do |user_post_like| %>
                        <tr>
                          <% user = User.find_by_id(user_post_like.user_id) %>
                          <td><%= link_to user.username, user_url(user) %> liked this </td>
                          <% next if current_user == user %>
                          <td><%= button_to "Follow", user_follows_url(user.id) %></td>
                        </tr>
                      <% end %>
                    </table>
                  </ul>
              </ul>
         </ul>
   <% end %>
</ul>

 <table>
   <% User.all.sort.each do |user| %>
     <% next if current_user == user %>
     <tr>
       <td>  <%= link_to user.username, user_url(user) %> </td>
     <% if current_user.followed_users.include?(user) %>
       <td><%= button_to "Unfollow", user_follow_url(user.id, current_user.id), method: :delete %></td>
     <% else %>
       <td><%= button_to "Follow", user_follows_url(user.id) %></td>
     <% end %>
     </tr>
   <% end %>
 </table> <br>